# Entity

<pre>
â”œâ”€â”€ <a href="../README.md">..</a>
â”œâ”€â”€ <a href="./1.MEMORY.md">Memory</a>
â””â”€â”€ <span><a href="./2.ENTITY.md"><b>Ingestion</b></a> ðŸ‘ˆ</span>
</pre>

```mermaid
---
title: Memory Ingestion
---

flowchart TB
  %% Start / End
  START(( ))
  END(( ))

  %% Core stages
  Ingest([Ingest])
  Score([Score])
  Drop([Drop])
  Classify([Classify])

  %% Memory types
  Episodic(["<a href='https://github.com/aacebo/merc/blob/main/docs/1.MEMORY.md#episodic-events'>Episodic</a>"])
  Semantic(["<a href='https://github.com/aacebo/merc/blob/main/docs/1.MEMORY.md#semantic-facts-concepts'>Semantic</a>"])
  Procedural(["<a href='https://github.com/aacebo/merc/blob/main/docs/1.MEMORY.md#procedural-skills-habits'>Procedural</a>"])
  Emotional(["<a href='https://github.com/aacebo/merc/blob/main/docs/1.MEMORY.md#emotional'>Emotional</a>"])
  Working(["<a href='https://github.com/aacebo/merc/blob/main/docs/1.MEMORY.md#working-temporary'>Working</a>"])

  %% Post-processing
  Store([Store])
  Recallable([Recallable])
  Recall([Recall])
  Use([Use])
  Reinforce([Reinforce])
  Reclassify([Reclassify])

  %% Flow
  START --> Ingest

  Ingest -->|salience + emotion + meaning + context| Score
  Score -->|below threshold| Drop
  Drop --> END

  Score -->|above threshold| Classify

  Classify --> Episodic
  Classify --> Semantic
  Classify --> Procedural
  Classify --> Emotional
  Classify --> Working

  Episodic --> Store
  Semantic --> Store
  Procedural --> Store
  Emotional --> Store
  Working --> Store

  Store --> Recallable

  Recallable --> Recall
  Recall --> Use
  Use --> Reinforce
  Reinforce --> Reclassify
  Reclassify --> Store

  %% --- Styling for the "Drop" path ---
  %% --- Global link style: dotted ---
  linkStyle default stroke-width:2px,stroke-dasharray:4 4;

  %% --- Styling for the "Classify" node + path ---
  classDef success color:#ffffff,stroke:#118a11,fill:#0e5904;
  class Classify success;

  %% --- Styling for the "Drop" node + path ---
  classDef error color:#ffffff,stroke:#cc0000,fill:#660000;
  class Drop error;
  class END error;

  %% Override the Drop path links back to red (0-based edge indices)
  linkStyle 2 stroke:#cc0000,stroke-width:2px;
  linkStyle 3 stroke:#cc0000,stroke-width:2px;
  linkStyle 4 stroke:#118a11,stroke-width:2px;

```